<MainScreen>:
    
    MDScreen:
        name: 'main_screen'
        orientation:"vertical"
    
        

        radius: [25, 0, 0, 0]
        MDFloatLayout:

        MDBoxLayout:
            orientation: 'vertical'
            

            TopBar:
                
            MDFloatLayout:
                size_hint: 1, 1
                pos_hint: {"top": 0.15}
                
            
                MDGridLayout:
                    id: grid
                    cols:2
                    #orientation: "vertical"
                    #row_force_default: True
                    padding: 5
                    #pos_hint: {"center_x":0.5}
                    #pos_hint: {"top":2.2}
                    md_bg_color:[0.5, 0.5, 0.5, 1]  # cor da borda  
                    outline_color:[1, 0, 0, 1]  # cor da linha de borda
                    adaptive_height: True
                    adaptive_width: True
                    size_hint_x: 0.8/1.1
                    #pos_hint: {"center_x": .2/1.2, "center_y":1.6}
                    row_default_height: '40dp'
                    #row_default_height: 100
                    pos_hint: {"center_x": .5, "center_y":1.5/1.}

                    MDLabel:
                        id:lbl_ping
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "3dp", "33dp"
                        halign: "left"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()
                        pos_hint: {"top": .5, "center_y": .5}
                        allow_selection: True

                    MDLabel:
                        id:campo_ping
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "3dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()
                        allow_selection: True
                        

                    MDLabel:
                        id:lbl_ip
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()


                    MDLabel:
                        id:campo_ip
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()
                    
                    MDLabel:
                        id:lbl_operadora
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_operadora
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                MDBoxLayout:
                    id: progress_layout
                    orientation: 'horizontal'
                    md_bg_color:[0.5, 0.5, 0.5, 1]  # cor da borda  
                    outline_color:[1, 0, 0, 1]  # cor da linha de borda
                    adaptive_height: True
                    adaptive_width: True
                    size_hint_x: 0.8/1.1
                    size_hint_y: 0.1
                    pos_hint: {"center_x": .5, "center_y":1.3/1.1}

                    MDProgressBar:
                        #orientation: 'horizontal'
                        id: pb
                        height:"4dp"
                        width:"260dp"
                        size_hint_y: None
                        size_hint_x: 0.5
                        #size_hint:None, None
                        #padding: "10dp"
                
                        #type: "indeterminate"
                        pos_hint: {'center_x': .5, 'center_y': .2}
                        #pos_hint: {"center_y": .7}
                        catching_duration: 1.5
                        #value: 0
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                MDGridLayout:
                    id: grid_1
                    cols:2
                    padding: 5
                    md_bg_color:[0.5, 0.5, 0.5, 1]  # cor da borda  
                    outline_color:[1, 0, 0, 1]  # cor da linha de borda
                    adaptive_height: True
                    adaptive_width: True
                    size_hint_x: 0.8/1.1
                    size_hint_y: 0.4
                    pos_hint: {"center_x": .5, "center_y":1/1.1}
         

                    MDLabel:
                        id:lbl_upload
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "12dp", "33dp"
                        halign: "left"
                        bold: True
                        adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_upload
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "12dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:lbl_download
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_download
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()
                    
                    MDLabel:
                        id:lbl_pais
                        text: ""
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_pais
                        text: " " # + root.operadora
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()


                    MDLabel:
                        id:lbl_lat
                        text: "" #
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_lat
                        text: " "
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:lbl_lon
                        text: "" #
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "left"
                        bold: True
                        adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                    MDLabel:
                        id:campo_lon
                        text: " " #
                        #color: "grey"
                        font_style: "Body1"
                        pos: "22dp", "33dp"
                        halign: "right"
                        bold: True
                        #adaptive_size: True
                        theme_text_color: "Custom"
                        text_color: app.get_text_color()

                MDBoxLayout:
                    id: box_layout_map
                    orientation: "horizontal"
                    spacing: 5
                    padding: 5
                    md_bg_color:[0.5, 0.5, 0.5, 1]  # cor da borda  
                    outline_color:[1, 0, 0, 1]  # cor da linha de borda
                    adaptive_height: True
                    adaptive_width: True
                    size_hint_x: 0.8/1.1
                    size_hint_y: 0.4
                    pos_hint: {"center_x": .5, "center_y":.5}

                
                MDRaisedButton:
                    text: "tela historico"
                    height: "56dp"
                    size_hint_x: .3
                    on_press: root.manager.current = 'historico_screen' 
                    pos_hint: {"center_x": .5, "center_y": .2}

                MDRaisedButton:
                    text: "iniciar teste"
                    height: "56dp"
                    size_hint_x: .3
                    on_press: root.iniciar_teste() #root.update_ping() 
                    pos_hint: {"center_x": .5, "center_y": .1}

                MDRaisedButton:
                    height: "56dp"
                    text: "fechar"
                    size_hint_x: .3
                    pos_hint: {"center_x": .5, "center_y": .0}
                    on_press: app.stop()


